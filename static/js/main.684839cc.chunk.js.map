{"version":3,"sources":["BooksAPI.js","Book.js","SeachView.js","BookShelf.js","ShelfView.js","App.js","index.js"],"names":["api","token","localStorage","Math","random","toString","substr","headers","Accept","Authorization","update","book","shelf","fetch","concat","id","method","Object","objectSpread","Content-Type","body","JSON","stringify","then","res","json","search","query","data","books","ShelfTag","props","shelfTag","thisTag","name","text","className","filter","t","react_default","a","createElement","Book","thumbnail","noCover","imageLinks","key","style","width","height","backgroundImage","value","onChange","event","onChangeShelf","target","disabled","title","authors","SeachView","state","result","isFetching","updateQuery","_this","setState","trim","BooksAPI","map","push","catch","_this2","this","booksInShelf","Link","to","type","placeholder","length","react_transition_group","b","bookInShelf","bis","timeout","classNames","src_Book","changeShelf","Component","BookShelf","shelfTitle","ShelfView","src_BookShelf","currentlyReading","wantToRead","read","onClick","onSearchClick","BooksApp","none","newState","movingBook","forEach","_this3","toConsumableArray","Route","exact","path","render","_ref","history","src_ShelfView","src_SeachView","React","ReactDOM","HashRouter","basename","process","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.684839cc.chunk.js","sourcesContent":["\r\nconst api = \"https://reactnd-books-api.udacity.com\"\r\n\r\n\r\n// Generate a unique token for storing your bookshelf data on the backend server.\r\nlet token = localStorage.token\r\nif (!token)\r\n  token = localStorage.token = Math.random().toString(36).substr(-8)\r\n\r\nconst headers = {\r\n  'Accept': 'application/json',\r\n  'Authorization': token\r\n}\r\n\r\nexport const get = (bookId) =>\r\n  fetch(`${api}/books/${bookId}`, { headers })\r\n    .then(res => res.json())\r\n    .then(data => data.book)\r\n\r\nexport const getAll = () =>\r\n  fetch(`${api}/books`, { headers })\r\n    .then(res => res.json())\r\n    .then(data => data.books)\r\n\r\nexport const update = (book, shelf) =>\r\n  fetch(`${api}/books/${book.id}`, {\r\n    method: 'PUT',\r\n    headers: {\r\n      ...headers,\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({ shelf })\r\n  }).then(res => res.json())\r\n\r\nexport const search = (query) =>\r\n  fetch(`${api}/search`, {\r\n    method: 'POST',\r\n    headers: {\r\n      ...headers,\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({ query })\r\n  }).then(res => res.json())\r\n    .then(data => data.books)\r\n","import React from 'react'\r\n\r\nfunction Book(props) {\r\n\tconst book = props.book\r\n\tlet shelf = 'none',\r\n\t\tthumbnail = '',\r\n\t\tnoCover = ''\r\n\tif(book.shelf){\r\n\t\tshelf = book.shelf\r\n\t}\r\n\tif(book.imageLinks){\r\n\t\tthumbnail = book.imageLinks.thumbnail\r\n\t} else {\r\n\t\tnoCover = <p className='no-cover-thumbnail'>Image is not available.</p>\r\n\t}\r\n\r\n\treturn (\t\t\t\t\t\t\r\n\t\t<li key={book.id}>\r\n\t\t\t<div className=\"book\">\r\n\t\t\t\t<div className=\"book-top\">\r\n\t\t\t\t\t<div className=\"book-cover\" style={\r\n\t\t\t\t\t\t{ \r\n\t\t\t\t\t\t\twidth: 128, height: 193, \r\n\t\t\t\t\t\t\tbackgroundImage: `url(${thumbnail})`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}>{noCover}</div>\r\n\t\t\t\t\t<div className=\"book-shelf-changer\">\r\n\t\t\t\t\t\t<select value={shelf} \r\n\t\t\t\t\t\t\tonChange={(event) => props.onChangeShelf(book, event.target.value)}>\r\n\r\n\t\t\t\t\t\t\t<option value=\"move\" disabled>Move to...</option>\r\n\t\t\t\t\t\t\t<option value=\"currentlyReading\">Currently Reading</option>\r\n\t\t\t\t\t\t\t<option value=\"wantToRead\">Want to Read</option>\r\n\t\t\t\t\t\t\t<option value=\"read\">Read</option>\r\n\t\t\t\t\t\t\t<option value=\"none\">None</option>\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<ShelfTag shelfTag={props.shelfTag}/>\r\n\t\t\t\t</div>\r\n\t\t\t    <div className=\"book-title\">{book.title}</div>\r\n\t\t\t    <div className=\"book-authors\">{book.authors}</div>\r\n\t\t\t</div>\r\n\t\t</li>\r\n\t)\r\n}\r\n\r\nfunction ShelfTag(props) {\r\n\tif(!props.shelfTag){\r\n\t\treturn \"\"\r\n\t}\r\n\tconst tags = [\r\n\t\t{name: 'currentlyReading', text:`Currently reading`, className: 'shelf-tag tag-currently-reading'},\r\n\t\t{name: 'wantToRead', text:'Want to read', className: 'shelf-tag tag-want-to-read'},\r\n\t\t{name: 'read', text: 'Read', className: 'shelf-tag tag-already-read'}\r\n\t]\r\n\r\n\tconst thisTag = tags.filter((t) => props.shelfTag === t.name)\r\n\r\n\treturn (props.shelfTag !== 'none'? (\r\n\t\t<div className={thisTag[0].className}>\r\n\t\t\t<small>{thisTag[0].text}</small>\r\n\t\t</div>\r\n\t) : \"\")\r\n}\r\n\r\nexport default Book","import React, {Component} from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport * as BooksAPI from './BooksAPI'\r\nimport Book from './Book'\r\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\r\n\r\nclass SeachView extends Component{\r\n\tstate = {\r\n\t\tquery: '',\r\n\t\tresult: [],\r\n\t\tisFetching: false\r\n\t}\r\n\r\n\tupdateQuery = (query) => {\r\n\t\tthis.setState({ query: query.trim() , isFetching: true})\r\n\t\tif(query){\r\n\t\t\tconst result = []\r\n\t\t\tBooksAPI.search(query).then((books) => {\r\n\t\t\t\tbooks.map(\r\n\t\t\t\t\tbook => result.push(book)\r\n\t\t\t\t)\r\n\t\t\t\tthis.setState({result , isFetching: false})\r\n\t\t\t}).catch(() => this.setState({result: [], isFetching: false}))\r\n\t\t}else{\r\n\t\t\tthis.setState({result: [] , isFetching: false})\r\n\t\t}\r\n\t}\r\n\r\n\trender(){\r\n\t\tconst booksInShelf = this.props.booksInShelf\r\n\t\treturn (\r\n\t\t\t<div className=\"search-books\">\r\n\t            <div className=\"search-books-bar\">\r\n\t            <Link to='/' className='close-search'>Close</Link>\r\n\t            \t<div className=\"search-books-input-wrapper\">\r\n\t\t                <input type=\"text\" \r\n\t\t                \tplaceholder=\"Search by title or author\"\r\n\t\t\t\t\t\t\tonChange={(event) => this.updateQuery(event.target.value)}/>\r\n\r\n\t            \t</div>\r\n\t            </div>\r\n\t            {this.state.isFetching ? \r\n\t            \t(<div className='fetching-container'><div className='fetching-spinner'></div></div>) \r\n\t            \t: (\r\n\t\t\t            <div className=\"search-books-results\">\r\n\t\t\t              \t{ !this.state.query ? (<div className='empty-result'><p>Empty search</p></div>) \r\n\t\t\t              \t: this.state.result.length > 0 ? (\r\n\t\t\t            \t\t<TransitionGroup className=\"transition-group books-grid\">{\r\n\t\t\t\t\t              \tthis.state.result.map((b) => {\r\n\t\t\t\t\t              \t\tconst book = b\r\n\t\t\t\t\t              \t\tconst bookInShelf = booksInShelf.filter((bis) => bis.id === book.id)\r\n\t\t\t\t\t              \t\tlet shelf = 'none'\r\n\t\t\t\t\t              \t\tif(bookInShelf[0]){\r\n\t\t\t\t\t              \t\t\tshelf = bookInShelf[0].shelf\r\n\t\t\t\t\t              \t\t}\r\n\t\t\t\t\t              \t\tbook.shelf = shelf\r\n\t\t\t\t\t              \t\treturn (\r\n\t\t\t\t\t              \t\t\t<CSSTransition\r\n\t\t\t\t\t\t\t\t                key={book.id}\r\n\t\t\t\t\t\t\t\t                timeout={500}\r\n\t\t\t\t\t\t\t\t                classNames=\"fade\"\r\n\t\t\t\t\t\t\t\t              >\r\n\t\t\t\t\t\t              \t\t\t<Book book={book}\r\n\t\t\t\t\t\t              \t\t\tshelfTag={book.shelf}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChangeShelf={this.props.changeShelf}/>\r\n\t\t\t\t\t\t\t\t\t\t\t</CSSTransition>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t              \t})\r\n\t\t\t\t              \t}</TransitionGroup>\r\n\t\t\t              \t) : (<div className='empty-result'><p>No results found!</p></div>)}\r\n\t\t\t            </div>\r\n\t            \t)}\r\n\r\n        \t</div>\r\n        )\r\n\t}\r\n}\r\n\r\nexport default SeachView","import React from 'react'\r\nimport Book from './Book'\r\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\r\n\r\nfunction BookShelf(props) {\r\n\treturn (\r\n\t\t<div className=\"bookshelf\">\r\n\t        <h2 className=\"bookshelf-title\">{props.shelfTitle} ({props.books.length})</h2>\r\n\t        <div className=\"bookshelf-books\">\r\n\t\t\t\t<TransitionGroup className=\"transition-group books-grid\">\r\n\t\t\t\t\t{props.books.map((book) => (\r\n\t\t\t\t\t\t<CSSTransition\r\n\t\t\t                key={book.id}\r\n\t\t\t                timeout={500}\r\n\t\t\t                classNames=\"fade\"\r\n\t\t\t              >\r\n\t\t\t\t\t\t\t<Book book={book}\r\n\t\t\t\t\t\t\t\tonChangeShelf={props.onChangeShelf}/>\r\n\t\t\t\t\t\t</CSSTransition>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</TransitionGroup>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default BookShelf","import React from 'react'\r\nimport BookShelf from './BookShelf'\r\n\r\nfunction ShelfView(props) {\r\n\treturn (\r\n\t\t<div className=\"list-books\">\r\n            <div className=\"list-books-title\">\r\n              <h1>MyReads</h1>\r\n            </div>\r\n\r\n            <div className=\"list-books-content\">\r\n                <BookShelf books={props.currentlyReading} \r\n                  shelfTitle='Currently Reading' \r\n                  onChangeShelf={props.changeShelf}/>\r\n\r\n                <BookShelf books={props.wantToRead} \r\n                  shelfTitle='Want to Read' \r\n                  onChangeShelf={props.changeShelf}/>\r\n\r\n                <BookShelf books={props.read} \r\n                  shelfTitle='Read' \r\n                  onChangeShelf={props.changeShelf}/>\r\n            </div>\r\n\r\n            <div className=\"open-search\">\r\n              <button onClick={props.onSearchClick}>Add a book</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ShelfView","import React from 'react'\r\nimport './App.css'\r\nimport SeachView from './SeachView'\r\nimport ShelfView from './ShelfView'\r\nimport { Route } from 'react-router-dom'\r\nimport * as BooksAPI from './BooksAPI'\r\n\r\nclass BooksApp extends React.Component {\r\n    state = {\r\n        currentlyReading: [],\r\n        wantToRead: [],\r\n        read: [],\r\n        none: []\r\n    }\r\n\r\n    componentDidMount() {\r\n        BooksAPI.getAll().then((books) => {\r\n            const newState = this.state\r\n            books.forEach((book) => { newState[book.shelf].push(book) })\r\n            this.setState(newState)\r\n        })\r\n    }\r\n\r\n    changeShelf = (book, shelf) => {\r\n        const newState = this.state\r\n        const movingBook = book\r\n\r\n        if (book.shelf !== shelf) {\r\n            newState[book.shelf] = newState[book.shelf].filter(b => b.id !== book.id)\r\n            if (shelf !== 'none') {\r\n                movingBook.shelf = shelf\r\n                newState[shelf].push(movingBook)\r\n            }\r\n        }\r\n        this.setState(newState)\r\n        BooksAPI.update(book, shelf)\r\n    }\r\n\r\n  render() {\r\n    const shelf = this.state,\r\n          books = [...shelf.currentlyReading, ...shelf.wantToRead, ...shelf.read]\r\n    return (\r\n      <div className=\"app\">\r\n\r\n        <Route exact path={'/'} render={({history}) => (\r\n          <ShelfView \r\n            currentlyReading={this.state.currentlyReading}\r\n            wantToRead={this.state.wantToRead}\r\n            read={this.state.read}\r\n            changeShelf={this.changeShelf}\r\n            onSearchClick={() => history.push('/search')}\r\n            />\r\n        )}/>\r\n\r\n        <Route path={'/search'} render={() => (\r\n          <SeachView \r\n            booksInShelf={books}\r\n            changeShelf={this.changeShelf}/>\r\n        )}/>\r\n\r\n      </div>\r\n    )\r\n  }\r\n}\r\nexport default BooksApp","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\nimport { HashRouter } from 'react-router-dom'\r\nimport './index.css'\r\n\r\nReactDOM.render(<HashRouter basename={process.env.PUBLIC_URL}><App /></HashRouter>, document.getElementById('root'))\r\n"],"sourceRoot":""}